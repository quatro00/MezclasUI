<div>
    <div nz-col nzXs="24" nzMd="12">
      <ng-template #newItem>
        <form nz-form nzLayout="vertical" [formGroup]="validateForm" (ngSubmit)="cerrarTicket()">
         <nz-form-item>
           <nz-form-control nzErrorTip="Ingresa las observaciones.">
             <nz-form-label class="text-[15px] font-semibold text-dark dark:text-white/[.87] capitalize mb-[10px]">Observaciones:</nz-form-label>
             <textarea formControlName="observaciones"
             class="w-full resize-none rounded-4 border-normal border-1 text-[15px] dark:bg-white/10 dark:border-white/10 px-[20px] py-[12px] min-h-[50px] outline-none placeholder:text-[#A0A0A0] text-theme-gray dark:text-white/60"
             nz-input id="textarea1"></textarea>
           </nz-form-control>
         </nz-form-item>
  
         <nz-form-item>
          <nz-form-control nzErrorTip="Selecciona una sucursal.">
            <nz-form-label class="text-[15px] font-semibold text-dark dark:text-white/[.87] capitalize mb-[10px]">Adjunta una foto de la orden de servicio:</nz-form-label>
            <nz-upload
                  
                  class="block [&>div>div]:min-h-[110px] dark:[&>div]:bg-white/10 [&>div]:bg-[#fafafa] dark:[&>div]:border-white/10 dark:hover:[&>div]:border-primary"
                    nzType="drag"
                    [nzMultiple]="true"
                    nzAction="https://localhost:7033/api/Ticket/UploadFile"
                    
                  >
                    <p class="ant-upload-text" style="color: white;">Arrastra los archivos para adjuntarlos.</p>
                  </nz-upload>
          </nz-form-control>
        </nz-form-item>
  
  
        </form>
      </ng-template>
      <!-- :End New project added -->
    </div>
  </div>
  <div class="p-[25px]">
      <form nz-form [formGroup]="materialForm" (ngSubmit)="submitForm()">
        <nz-form-item nzGutter="25" class="mb-0">
            <nz-form-control nzErrorTip="Dato requerido.">
                <nz-form-label
                    class="text-[15px] font-semibold text-dark dark:text-white/[.87] capitalize mb-[10px]">Dia</nz-form-label>
                    <nz-select formControlName="dia" class="capitalize [&>nz-select-top-control]:border-normal dark:[&>nz-select-top-control]:border-white/10 [&>nz-select-top-control]:bg-white [&>nz-select-top-control]:dark:bg-white/10 [&>nz-select-top-control]:shadow-none [&>nz-select-top-control]:text-dark [&>nz-select-top-control]:dark:text-white/60 [&>nz-select-top-control]:h-[50px] [&>nz-select-top-control]:flex [&>nz-select-top-control]:items-center [&>nz-select-top-control]:rounded-[5px] [&>nz-select-top-control]:px-[20px] [&>.ant-select-arrow]:text-theme-gray dark:[&>.ant-select-arrow]:text-white/60" name="first">
                      <nz-option [nzValue]="'1'" [nzLabel]="'Lunes'"></nz-option>
                      <nz-option [nzValue]="'2'" [nzLabel]="'Martes'"></nz-option>
                      <nz-option [nzValue]="'3'" [nzLabel]="'Miercoles'"></nz-option>
                      <nz-option [nzValue]="'4'" [nzLabel]="'Jueves'"></nz-option>
                      <nz-option [nzValue]="'5'" [nzLabel]="'Viernes'"></nz-option>
                      <nz-option [nzValue]="'6'" [nzLabel]="'Sabado'"></nz-option>
                      <nz-option [nzValue]="'7'" [nzLabel]="'Domingo'"></nz-option>
                    </nz-select>
              </nz-form-control>

          <nz-form-control nzErrorTip="Dato requerido.">
            <nz-form-label class="text-[15px] font-semibold text-dark dark:text-white/[.87] capitalize mb-[10px]">Inicio de captura</nz-form-label>
            <nz-time-picker [nzUse12Hours]="true" nzFormat="h:mm a" formControlName="inicioCaptura" class="inline-flex items-center rounded-4 border-normal border-1 text-[15px] dark:bg-white/10 dark:border-white/10 px-[20px] py-[8px] h-[38px] outline-none placeholder:text-light placeholder:font-normal text-theme-gray dark:text-white/60 w-full mb-[15px]" ></nz-time-picker>
          </nz-form-control>

          <nz-form-control nzErrorTip="Dato requerido.">
            <nz-form-label class="text-[15px] font-semibold text-dark dark:text-white/[.87] capitalize mb-[10px]">Termino de captura</nz-form-label>
            <nz-time-picker [nzUse12Hours]="true" nzFormat="h:mm a" formControlName="terminoCaptura" class="inline-flex items-center rounded-4 border-normal border-1 text-[15px] dark:bg-white/10 dark:border-white/10 px-[20px] py-[8px] h-[38px] outline-none placeholder:text-light placeholder:font-normal text-theme-gray dark:text-white/60 w-full mb-[15px]" ></nz-time-picker>
          </nz-form-control>
  
          <nz-form-control nzErrorTip="Dato requerido.">
            <nz-form-label class="text-[15px] font-semibold text-dark dark:text-white/[.87] capitalize mb-[10px]">Inicio de preparacion</nz-form-label>
            <nz-time-picker [nzUse12Hours]="true" nzFormat="h:mm a" formControlName="inicioPreparacion" class="inline-flex items-center rounded-4 border-normal border-1 text-[15px] dark:bg-white/10 dark:border-white/10 px-[20px] py-[8px] h-[38px] outline-none placeholder:text-light placeholder:font-normal text-theme-gray dark:text-white/60 w-full mb-[15px]" ></nz-time-picker>
          </nz-form-control>
          
          <nz-form-control nzErrorTip="Dato requerido.">
            <nz-form-label class="text-[15px] font-semibold text-dark dark:text-white/[.87] capitalize mb-[10px]">Termino de preparacion</nz-form-label>
            <nz-time-picker [nzUse12Hours]="true" nzFormat="h:mm a" formControlName="terminoPreparacion" class="inline-flex items-center rounded-4 border-normal border-1 text-[15px] dark:bg-white/10 dark:border-white/10 px-[20px] py-[8px] h-[38px] outline-none placeholder:text-light placeholder:font-normal text-theme-gray dark:text-white/60 w-full mb-[15px]" ></nz-time-picker>
          </nz-form-control>
  
          <nz-form-control nzErrorTip="Dato requerido.">
            <nz-form-label class="text-[15px] font-semibold text-dark dark:text-white/[.87] capitalize mb-[10px]">Entrega a distribuidor</nz-form-label>
            <nz-time-picker [nzUse12Hours]="true" nzFormat="h:mm a" formControlName="entregaDistribuidor" class="inline-flex items-center rounded-4 border-normal border-1 text-[15px] dark:bg-white/10 dark:border-white/10 px-[20px] py-[8px] h-[38px] outline-none placeholder:text-light placeholder:font-normal text-theme-gray dark:text-white/60 w-full mb-[15px]" ></nz-time-picker>
          </nz-form-control>

          <nz-form-control nzErrorTip="Dato requerido.">
            <nz-form-label class="text-[15px] font-semibold text-dark dark:text-white/[.87] capitalize mb-[10px]">Entrega a sucursal</nz-form-label>
            <nz-time-picker [nzUse12Hours]="true" nzFormat="h:mm a" formControlName="entregaSucursal" class="inline-flex items-center rounded-4 border-normal border-1 text-[15px] dark:bg-white/10 dark:border-white/10 px-[20px] py-[8px] h-[38px] outline-none placeholder:text-light placeholder:font-normal text-theme-gray dark:text-white/60 w-full mb-[15px]" ></nz-time-picker>
          </nz-form-control>
           
            <nz-form-control nzLg="1" nzMd="1" nzXs="24" class="mb-[25px]">
              <nz-form-label
                class="text-[15px] font-semibold text-dark dark:text-white/[.87] mb-[10px]">&nbsp;</nz-form-label>
              <button nz-button 
              nz-button type="submit" [nzLoading]="loadingbtn_Entrar"
                class="bg-primary hover:bg-primary-hbr border-solid border-1 border-primary text-white dark:text-white/[.87] text-[14px] font-semibold leading-[22px] inline-flex items-center justify-center rounded-[4px] px-[20px] h-[44px] duration-300">
                <span>Guardar</span>
              </button>
            </nz-form-control>
        </nz-form-item >
       
      
        <nz-form-item nzJustify="end">
          <nz-form-control nzLg="2" nzMd="2" nzXs="24">
            <div class="flex flex-wrap gap-[15px]">
              
            </div>
          </nz-form-control>
        </nz-form-item>
      </form>
  
  
  
      <div class="bg-white dark:bg-white/10 m-0 p-0 text-theme-gray dark:text-white/60 text-[15px] relative mb-[25px]">
          <br/>
           <div class="px-[25px] pb-[25px]">
            
             <perfect-scrollbar>
                 <div class="w-full max-2xl:overflow-x-auto max-h-[450px]">
                   <nz-table #basicTable [nzData]="filteredData" [nzFrontPagination]="true" [nzShowPagination]="true">
                       <thead>
                           <tr>
                             <th class="bg-regularBG dark:bg-[#323440] px-[20px] py-[16px] text-start text-dark dark:text-white/[.87] text-[15px] font-medium border-none before:hidden capitalize">Dia</th>
                             <th class="bg-regularBG dark:bg-[#323440] px-[20px] py-[16px] text-start text-dark dark:text-white/[.87] text-[15px] font-medium border-none before:hidden capitalize">Inicio captura</th>
                             <th class="bg-regularBG dark:bg-[#323440] px-[20px] py-[16px] text-start text-dark dark:text-white/[.87] text-[15px] font-medium border-none before:hidden capitalize">Termino captura</th>
                             <th class="bg-regularBG dark:bg-[#323440] px-[20px] py-[16px] text-start text-dark dark:text-white/[.87] text-[15px] font-medium border-none before:hidden capitalize">Inicio preparacion</th>
                             <th class="bg-regularBG dark:bg-[#323440] px-[20px] py-[16px] text-start text-dark dark:text-white/[.87] text-[15px] font-medium border-none before:hidden capitalize">Termino preparacion</th>
                             <th class="bg-regularBG dark:bg-[#323440] px-[20px] py-[16px] text-start text-dark dark:text-white/[.87] text-[15px] font-medium border-none before:hidden capitalize">Entrega distribuidor</th>
                             <th class="bg-regularBG dark:bg-[#323440] px-[20px] py-[16px] text-start text-dark dark:text-white/[.87] text-[15px] font-medium border-none before:hidden capitalize">Entrega sucursal</th>
                             <th class="bg-regularBG dark:bg-[#323440] px-[20px] py-[16px] text-end text-dark dark:text-white/[.87] text-[15px] font-medium border-none before:hidden rounded-e-[10px] capitalize "></th>
                           </tr>
                         </thead>
                         <tbody>
                          <tr class="group" *ngFor="let person of filteredData">
                            <td class="ltr:pr-[20px] rtl:pl-[20px] text-dark dark:text-white/[.87] text-[15px] py-4 before:hidden border-none group-hover:bg-transparent">{{ person.dia }}</td>
                            <td class="ltr:pr-[20px] rtl:pl-[20px] text-dark dark:text-white/[.87] text-[15px] py-4 before:hidden border-none group-hover:bg-transparent">{{ person.solicitudInicio }}</td>
                            <td class="ltr:pr-[20px] rtl:pl-[20px] text-dark dark:text-white/[.87] text-[15px] py-4 before:hidden border-none group-hover:bg-transparent">{{ person.solicitudTermino }}</td>
                            <td class="ltr:pr-[20px] rtl:pl-[20px] text-dark dark:text-white/[.87] text-[15px] py-4 before:hidden border-none group-hover:bg-transparent">{{ person.preparacionInicio }}</td>
                            <td class="ltr:pr-[20px] rtl:pl-[20px] text-dark dark:text-white/[.87] text-[15px] py-4 before:hidden border-none group-hover:bg-transparent">{{ person.preparacionTermino }}</td>
                            <td class="ltr:pr-[20px] rtl:pl-[20px] text-dark dark:text-white/[.87] text-[15px] py-4 before:hidden border-none group-hover:bg-transparent">{{ person.entregaDistribuidor }}</td>
                            <td class="ltr:pr-[20px] rtl:pl-[20px] text-dark dark:text-white/[.87] text-[15px] py-4 before:hidden border-none group-hover:bg-transparent">{{ person.entregaSucursal }}</td>
                            <td class="ltr:pr-[20px] rtl:pl-[20px] text-dark dark:text-white/[.87] text-[15px] py-4 before:hidden border-none group-hover:bg-transparent">
                              <li >
                                <div class="flex items-center leading-none text-light dark:text-white/60 hover:text-primary">
                                  <span (click)="borrarMaterial(person.id)"  nz-tooltip="Borrar material" class="[&>svg]:w-[20px] [&>svg]:h-[20px] cursor-pointer " nz-icon nzType="delete"
                                    nzTheme="outline"></span>
                                </div>
                              </li>
                            </td>
                          </tr>
                         </tbody>
                   </nz-table>
                 </div>
             </perfect-scrollbar>
           </div>
         </div>
  
    </div>
    <div nz-row nzJustify="end">
      <div nz-col nzSpan="14"></div>
      <div nz-col nzSpan="2"><button nz-button 
        (click)="showNew(newItem)"
          class="bg-primary hover:bg-primary-hbr border-solid border-1 border-primary text-white dark:text-white/[.87] text-[14px] font-semibold leading-[22px] inline-flex items-center justify-center rounded-[4px] px-[20px] h-[44px] duration-300">
          <span>Cerrar ticket</span>
      </button></div>
    </div>